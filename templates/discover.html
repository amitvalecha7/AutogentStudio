{% extends "base.html" %}

{% block title %}Discover - Autogent Studio{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Header -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="bg-primary text-white p-4 rounded">
                <h1 class="display-4 mb-2">
                    <i class="fas fa-search me-3"></i>Discover
                </h1>
                <p class="lead mb-0">Explore AI assistants, quantum algorithms, neuromorphic models, and blockchain plugins</p>
            </div>
        </div>
    </div>
    
    <!-- Search Bar -->
    <div class="row mb-4">
        <div class="col-md-8 mx-auto">
            <div class="input-group input-group-lg">
                <span class="input-group-text bg-dark text-light border-secondary">
                    <i class="fas fa-search"></i>
                </span>
                <input type="text" id="searchInput" class="form-control bg-dark text-light border-secondary" 
                       placeholder="Search assistants, plugins, models..." onkeyup="performSearch()">
                <button class="btn btn-primary" type="button" onclick="performSearch()">
                    Search
                </button>
            </div>
        </div>
    </div>
    
    <!-- Navigation Tabs -->
    <div class="row mb-4">
        <div class="col-12">
            <ul class="nav nav-tabs nav-fill bg-dark">
                <li class="nav-item">
                    <a class="nav-link active" data-bs-toggle="tab" href="#assistants">
                        <i class="fas fa-robot me-2"></i>Assistants
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#plugins">
                        <i class="fas fa-plug me-2"></i>Plugins
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#models">
                        <i class="fas fa-brain me-2"></i>Models
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#quantum">
                        <i class="fas fa-atom me-2"></i>Quantum
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#neuromorphic">
                        <i class="fas fa-microchip me-2"></i>Neuromorphic
                    </a>
                </li>
            </ul>
        </div>
    </div>
    
    <!-- Tab Content -->
    <div class="tab-content">
        <!-- Assistants Tab -->
        <div class="tab-pane fade show active" id="assistants">
            <div class="row mb-3">
                <div class="col-md-6">
                    <h3>Featured Assistants</h3>
                </div>
                <div class="col-md-6 text-end">
                    <button class="btn btn-primary" onclick="createAssistant()">
                        <i class="fas fa-plus me-2"></i>Create Assistant
                    </button>
                </div>
            </div>
            
            <div class="row" id="assistantGrid">
                {% for assistant in featured_assistants %}
                    <div class="col-md-4 mb-4">
                        <div class="card bg-dark border-primary h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <div class="assistant-icon">
                                        <i class="fas fa-robot fa-2x text-primary"></i>
                                    </div>
                                    <div>
                                        <span class="badge bg-success">{{ assistant.usage_count }} uses</span>
                                    </div>
                                </div>
                                <h5 class="card-title">{{ assistant.name }}</h5>
                                <p class="card-text text-muted">{{ assistant.description }}</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <small class="text-muted">{{ assistant.model }}</small>
                                    <div class="btn-group">
                                        <button class="btn btn-sm btn-outline-primary" onclick="useAssistant('{{ assistant.id }}')">
                                            <i class="fas fa-play"></i> Use
                                        </button>
                                        <button class="btn btn-sm btn-outline-secondary" onclick="viewAssistant('{{ assistant.id }}')">
                                            <i class="fas fa-eye"></i> View
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
        
        <!-- Plugins Tab -->
        <div class="tab-pane fade" id="plugins">
            <div class="row mb-3">
                <div class="col-md-6">
                    <h3>Featured Plugins</h3>
                </div>
                <div class="col-md-6 text-end">
                    <button class="btn btn-primary" onclick="uploadPlugin()">
                        <i class="fas fa-upload me-2"></i>Upload Plugin
                    </button>
                </div>
            </div>
            
            <div class="row" id="pluginGrid">
                {% for plugin in featured_plugins %}
                    <div class="col-md-4 mb-4">
                        <div class="card bg-dark border-success h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <div class="plugin-icon">
                                        <i class="fas fa-plug fa-2x text-success"></i>
                                    </div>
                                    <div>
                                        <span class="badge bg-info">{{ plugin.downloads }} downloads</span>
                                    </div>
                                </div>
                                <h5 class="card-title">{{ plugin.name }}</h5>
                                <p class="card-text text-muted">{{ plugin.description }}</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <small class="text-muted">by {{ plugin.author }}</small>
                                    <div class="btn-group">
                                        <button class="btn btn-sm btn-outline-success" onclick="installPlugin('{{ plugin.id }}')">
                                            <i class="fas fa-download"></i> Install
                                        </button>
                                        <button class="btn btn-sm btn-outline-secondary" onclick="viewPlugin('{{ plugin.id }}')">
                                            <i class="fas fa-eye"></i> View
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
        
        <!-- Models Tab -->
        <div class="tab-pane fade" id="models">
            <div class="row mb-3">
                <div class="col-md-6">
                    <h3>Available Models</h3>
                </div>
                <div class="col-md-6 text-end">
                    <button class="btn btn-primary" onclick="finetuneMeodel()">
                        <i class="fas fa-cog me-2"></i>Fine-tune Model
                    </button>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card bg-dark border-info h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div class="model-icon">
                                    <i class="fas fa-brain fa-2x text-info"></i>
                                </div>
                                <div>
                                    <span class="badge bg-success">Available</span>
                                </div>
                            </div>
                            <h5 class="card-title">GPT-4o</h5>
                            <p class="card-text text-muted">OpenAI's most advanced multimodal model</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">OpenAI</small>
                                <button class="btn btn-sm btn-outline-info" onclick="useModel('gpt-4o')">
                                    <i class="fas fa-play"></i> Use
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card bg-dark border-info h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div class="model-icon">
                                    <i class="fas fa-brain fa-2x text-info"></i>
                                </div>
                                <div>
                                    <span class="badge bg-success">Available</span>
                                </div>
                            </div>
                            <h5 class="card-title">Claude Sonnet 4</h5>
                            <p class="card-text text-muted">Anthropic's latest reasoning model</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">Anthropic</small>
                                <button class="btn btn-sm btn-outline-info" onclick="useModel('claude-sonnet-4')">
                                    <i class="fas fa-play"></i> Use
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card bg-dark border-warning h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div class="model-icon">
                                    <i class="fas fa-atom fa-2x text-warning"></i>
                                </div>
                                <div>
                                    <span class="badge bg-warning">Quantum</span>
                                </div>
                            </div>
                            <h5 class="card-title">Quantum Enhanced GPT</h5>
                            <p class="card-text text-muted">Quantum-enhanced AI model with superior reasoning</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">Autogent Studio</small>
                                <button class="btn btn-sm btn-outline-warning" onclick="useModel('quantum-gpt')">
                                    <i class="fas fa-play"></i> Use
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Quantum Tab -->
        <div class="tab-pane fade" id="quantum">
            <div class="row mb-3">
                <div class="col-md-6">
                    <h3>Quantum Algorithms</h3>
                </div>
                <div class="col-md-6 text-end">
                    <button class="btn btn-primary" onclick="createQuantumAlgorithm()">
                        <i class="fas fa-plus me-2"></i>Create Algorithm
                    </button>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card bg-dark border-warning h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div class="quantum-icon">
                                    <i class="fas fa-atom fa-2x text-warning"></i>
                                </div>
                                <div>
                                    <span class="badge bg-warning">Quantum</span>
                                </div>
                            </div>
                            <h5 class="card-title">Quantum Optimization</h5>
                            <p class="card-text text-muted">Quantum-enhanced optimization algorithms</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">Qiskit</small>
                                <button class="btn btn-sm btn-outline-warning" onclick="useQuantumAlgorithm('optimization')">
                                    <i class="fas fa-play"></i> Use
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card bg-dark border-warning h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div class="quantum-icon">
                                    <i class="fas fa-atom fa-2x text-warning"></i>
                                </div>
                                <div>
                                    <span class="badge bg-warning">Quantum</span>
                                </div>
                            </div>
                            <h5 class="card-title">Quantum Machine Learning</h5>
                            <p class="card-text text-muted">Quantum ML algorithms for enhanced AI</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">Cirq</small>
                                <button class="btn btn-sm btn-outline-warning" onclick="useQuantumAlgorithm('ml')">
                                    <i class="fas fa-play"></i> Use
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card bg-dark border-warning h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div class="quantum-icon">
                                    <i class="fas fa-atom fa-2x text-warning"></i>
                                </div>
                                <div>
                                    <span class="badge bg-warning">Quantum</span>
                                </div>
                            </div>
                            <h5 class="card-title">Quantum Cryptography</h5>
                            <p class="card-text text-muted">Quantum-safe cryptographic algorithms</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">AWS Braket</small>
                                <button class="btn btn-sm btn-outline-warning" onclick="useQuantumAlgorithm('crypto')">
                                    <i class="fas fa-play"></i> Use
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Neuromorphic Tab -->
        <div class="tab-pane fade" id="neuromorphic">
            <div class="row mb-3">
                <div class="col-md-6">
                    <h3>Neuromorphic Models</h3>
                </div>
                <div class="col-md-6 text-end">
                    <button class="btn btn-primary" onclick="createNeuromorphicModel()">
                        <i class="fas fa-plus me-2"></i>Create Model
                    </button>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card bg-dark border-danger h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div class="neuromorphic-icon">
                                    <i class="fas fa-microchip fa-2x text-danger"></i>
                                </div>
                                <div>
                                    <span class="badge bg-danger">Edge AI</span>
                                </div>
                            </div>
                            <h5 class="card-title">Spiking Neural Network</h5>
                            <p class="card-text text-muted">Energy-efficient edge AI processing</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">Intel Loihi</small>
                                <button class="btn btn-sm btn-outline-danger" onclick="useNeuromorphicModel('snn')">
                                    <i class="fas fa-play"></i> Use
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card bg-dark border-danger h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div class="neuromorphic-icon">
                                    <i class="fas fa-microchip fa-2x text-danger"></i>
                                </div>
                                <div>
                                    <span class="badge bg-danger">Edge AI</span>
                                </div>
                            </div>
                            <h5 class="card-title">Neuromorphic Vision</h5>
                            <p class="card-text text-muted">Real-time visual processing</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">IBM TrueNorth</small>
                                <button class="btn btn-sm btn-outline-danger" onclick="useNeuromorphicModel('vision')">
                                    <i class="fas fa-play"></i> Use
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card bg-dark border-danger h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div class="neuromorphic-icon">
                                    <i class="fas fa-microchip fa-2x text-danger"></i>
                                </div>
                                <div>
                                    <span class="badge bg-danger">Edge AI</span>
                                </div>
                            </div>
                            <h5 class="card-title">Adaptive Learning</h5>
                            <p class="card-text text-muted">Self-adapting neuromorphic systems</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">SpiNNaker</small>
                                <button class="btn btn-sm btn-outline-danger" onclick="useNeuromorphicModel('adaptive')">
                                    <i class="fas fa-play"></i> Use
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    function performSearch() {
        const searchTerm = document.getElementById('searchInput').value;
        if (searchTerm.length > 0) {
            // Implement search functionality
            console.log('Searching for:', searchTerm);
        }
    }
    
    function useAssistant(assistantId) {
        // Redirect to chat with assistant
        window.location.href = `/chat?assistant=${assistantId}`;
    }
    
    function viewAssistant(assistantId) {
        window.location.href = `/discover/assistant/${assistantId}`;
    }
    
    function createAssistant() {
        window.location.href = '/discover/assistant/create';
    }
    
    function installPlugin(pluginId) {
        fetch(`/discover/plugin/install/${pluginId}`, {
            method: 'POST'
        })
        .then(response => response.json())
        .then(data => {
            if (data.error) {
                alert('Installation failed: ' + data.error);
            } else {
                alert('Plugin installed successfully!');
            }
        });
    }
    
    function viewPlugin(pluginId) {
        window.location.href = `/discover/mcp/${pluginId}`;
    }
    
    function uploadPlugin() {
        window.location.href = '/discover/plugin/upload';
    }
    
    function useModel(modelId) {
        // Set as default model and redirect to chat
        window.location.href = `/chat?model=${modelId}`;
    }
    
    function finetuneMeodel() {
        window.location.href = '/fine-tuning';
    }
    
    function useQuantumAlgorithm(algorithmType) {
        window.location.href = `/quantum/algorithms?type=${algorithmType}`;
    }
    
    function createQuantumAlgorithm() {
        window.location.href = '/quantum/algorithms/create';
    }
    
    function useNeuromorphicModel(modelType) {
        window.location.href = `/neuromorphic/models?type=${modelType}`;
    }
    
    function createNeuromorphicModel() {
        window.location.href = '/neuromorphic/models/create';
    }
</script>
{% endblock %}

